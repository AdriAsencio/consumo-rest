(this["webpackJsonpui-products"]=this["webpackJsonpui-products"]||[]).push([[0],{41:function(e,t,a){e.exports=a(70)},46:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),l=a.n(c),i=(a(46),a(47),a(48),a(49),a(38)),u=a(12),o=a(33),d=a(34),s=a(14),m=a.n(s),f=function(){function e(){Object(o.a)(this,e),this.baseUrl="https://hg-rest.herokuapp.com/api/products/"}return Object(d.a)(e,[{key:"create",value:function(e){return m.a.post(this.baseUrl+"product/",e).then((function(e){return e.data}))}},{key:"readAll",value:function(){return m.a.get(this.baseUrl).then((function(e){return e.data}))}},{key:"update",value:function(e){return m.a.put(this.baseUrl+"product/"+e._id,e).then((function(e){return e.data}))}},{key:"delete",value:function(e){return m.a.delete(this.baseUrl+"product/"+e).then((function(e){return e.data}))}}]),e}(),p=Object(n.createContext)(),b=function(e){var t=new f,a=Object(n.useState)([]),c=Object(u.a)(a,2),l=c[0],o=c[1],d=Object(n.useState)(null),s=Object(u.a)(d,2),m=s[0],b=s[1];Object(n.useEffect)((function(){t.readAll().then((function(e){return o(e)}))}),[t,l]);return r.a.createElement(p.Provider,{value:{createProduct:function(e){t.create(e).then((function(e){return o([].concat(Object(i.a)(l),[e]))}))},deleteProduct:function(e){t.delete(e).then((function(){return o(l.filter((function(t){return t._id!==e})))}))},findProduct:function(e){var t=l.find((function(t){return t._id===e}));b(t)},updateProduct:function(e){t.update(e).then((function(t){return o(l.map((function(a){return a._id===e._id?t:e})))})),b(null)},editProduct:m,products:l}},e.children)},h=a(35),v=a(39),E=a(15),g=a(5),O=a(19),y=a(21),j=a(36),P=a(11),_=a(18),k=a(37),w=function(e){var t=e.isVisible,a=e.setIsVisible,c=Object(n.useContext)(p),l=c.createProduct,i=c.deleteProduct,o=c.editProduct,d=c.updateProduct,s={_id:null,name:"",price:0,expiry_date:null},m=Object(n.useState)(s),f=Object(u.a)(m,2),b=f[0],h=f[1];Object(n.useEffect)((function(){o&&h(o)}),[o]);var v=function(e,t){h(Object(y.a)(Object(y.a)({},b),{},Object(O.a)({},t,e))),console.log(b)},E=r.a.createElement("div",{className:"ui-dialog-buttonpane p-clearfix"},r.a.createElement(g.a,{label:"Delete",icon:"pi pi-times",onClick:function(){o&&(i(b._id),h(s)),a(!1)}}),r.a.createElement(g.a,{label:"Save",icon:"pi pi-check",onClick:function(){o?d(b):l(b),h(s),a(!1)}}));return r.a.createElement("div",null,r.a.createElement(j.a,{visible:t,modal:!0,style:{width:"420px"},contentStyle:{overflow:"visible"},header:"Detalles del Producto",onHide:function(){return a(!1),void h(s)},footer:E},r.a.createElement("div",{className:"p-grid p-fluid"},r.a.createElement("br",null),r.a.createElement("div",{className:"p-float-label"},r.a.createElement(P.a,{value:b.name,onChange:function(e){return v(e.target.value.trim(),"name")}}),r.a.createElement("label",null,"Nombre:")),r.a.createElement("br",null),r.a.createElement("div",{className:"p-float-label"},r.a.createElement(_.a,{value:b.price,onChange:function(e){return v(e.target.value,"price")},mode:"currency",currency:"USD"}),r.a.createElement("label",null,"Precio:")),r.a.createElement("br",null),r.a.createElement("div",{className:"p-float-label"},r.a.createElement(k.a,{value:b.expiry_date&&new Date(b.expiry_date+" "),onChange:function(e){return v(e.target.value.toISOString().substring(0,10),"expiry_date")},dateFormat:"yy-mm-dd"}),r.a.createElement("label",null,"Fecha de caducidad:")),r.a.createElement("br",null))))},x=function(){var e=Object(n.useContext)(p),t=e.products,a=e.findProduct,c=Object(n.useState)(!1),l=Object(u.a)(c,2),i=l[0],o=l[1],d=r.a.createElement("div",{className:"p-clearfix",style:{width:"100%"}},r.a.createElement(g.a,{style:{float:"left",height:"1cm"},icon:"pi pi-plus",label:"Agregar",onClick:function(){return o(!0)}}));return r.a.createElement("div",null,r.a.createElement(h.a,{header:"LISTA DE PRODUCTOS",style:{textAlign:"center"}},r.a.createElement(v.a,{value:t,selectionMode:"single",onSelectionChange:function(e){return t=e.value._id,a(t),void o(!0);var t},footer:d},r.a.createElement(E.a,{field:"_id",header:"Id"}),r.a.createElement(E.a,{field:"name",header:"Nombre"}),r.a.createElement(E.a,{field:"price",header:"Precio"}),r.a.createElement(E.a,{field:"expiry_date",header:"Fecha de Caducidad"}))),r.a.createElement(w,{isVisible:i,setIsVisible:o}))};var S=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,null,r.a.createElement(x,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.9826dfe8.chunk.js.map